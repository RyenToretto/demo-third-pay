# ğŸ”§ GitHub Pages è·¯ç”±é—®é¢˜ä¿®å¤

## é—®é¢˜æè¿°

éƒ¨ç½²åˆ° GitHub Pages åï¼Œç½‘ç«™é¦–é¡µå¯ä»¥è®¿é—®ï¼Œä½†æ˜¯ç‚¹å‡»"ç«‹å³è´­ä¹°"æŒ‰é’®æ— æ³•è·³è½¬åˆ°æ”¯ä»˜é¡µé¢ã€‚

**åŸå› **ï¼šGitHub Pages å°†é¡¹ç›®éƒ¨ç½²åœ¨å­è·¯å¾„ `/demo-third-pay/` ä¸‹ï¼Œä½† Nuxt é…ç½®ä¸­æ²¡æœ‰è®¾ç½®æ­£ç¡®çš„ `baseURL`ã€‚

---

## âœ… å·²ä¿®å¤çš„é—®é¢˜

### 1. æ·»åŠ  baseURL é…ç½®

åœ¨ `nuxt.config.ts` ä¸­æ·»åŠ äº† `app.baseURL` é…ç½®ï¼š

```typescript
app: {
  // GitHub Pages éƒ¨ç½²æ—¶çš„åŸºç¡€è·¯å¾„
  baseURL: process.env.NODE_ENV === 'production' ? '/demo-third-pay/' : '/',
  
  head: {
    // ...
  }
}
```

**è¯´æ˜**ï¼š
- ç”Ÿäº§ç¯å¢ƒï¼ˆGitHub Pagesï¼‰ä½¿ç”¨ `/demo-third-pay/` ä½œä¸ºåŸºç¡€è·¯å¾„
- å¼€å‘ç¯å¢ƒä½¿ç”¨ `/` ä½œä¸ºåŸºç¡€è·¯å¾„ï¼Œä¿è¯æœ¬åœ°å¼€å‘ä¸å—å½±å“

### 2. æ›´æ–°é™æ€ç”Ÿæˆè·¯ç”±

æ›´æ–°äº† `generate.routes` é…ç½®ï¼ŒåŒ…å«æ‰€æœ‰é¡µé¢ï¼š

```typescript
generate: {
  routes: [
    '/',           // é¦–é¡µï¼ˆSKU åˆ—è¡¨ï¼‰
    '/platform',   // æ”¯ä»˜é¡µé¢
    '/thirdpay',   // ç¬¬ä¸‰æ–¹æ”¯ä»˜æ¨¡æ‹Ÿé¡µ
    '/pay/success', // æ”¯ä»˜æˆåŠŸé¡µ
    '/pay/fail',    // æ”¯ä»˜å¤±è´¥é¡µ
  ],
}
```

**è¯´æ˜**ï¼š
- ç¡®ä¿æ‰€æœ‰é¡µé¢éƒ½ä¼šè¢«é™æ€ç”Ÿæˆ
- é¿å… 404 é”™è¯¯

---

## ğŸš€ é‡æ–°éƒ¨ç½²æ­¥éª¤

ä¿®å¤é…ç½®åï¼Œéœ€è¦é‡æ–°éƒ¨ç½²æ‰èƒ½ç”Ÿæ•ˆï¼š

### æ­¥éª¤ 1ï¼šæäº¤ä»£ç 

```bash
cd /Users/koujianfeng/Desktop/kjf/git/mine/demo-third-pay

git add .
git commit -m "fix: add baseURL for GitHub Pages deployment"
git push origin main
```

### æ­¥éª¤ 2ï¼šç­‰å¾…è‡ªåŠ¨éƒ¨ç½²

- GitHub Actions ä¼šè‡ªåŠ¨æ£€æµ‹åˆ° push
- è¿›å…¥ **Actions** æ ‡ç­¾é¡µæŸ¥çœ‹éƒ¨ç½²è¿›åº¦
- â±ï¸ ç­‰å¾… 2-3 åˆ†é’Ÿ

### æ­¥éª¤ 3ï¼šæ¸…é™¤æµè§ˆå™¨ç¼“å­˜

éƒ¨ç½²å®Œæˆåï¼Œ**å¿…é¡»æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**ï¼š

**æ–¹å¼ä¸€ï¼šç¡¬åˆ·æ–°**
- Windows/Linux: `Ctrl + Shift + R`
- Mac: `Cmd + Shift + R`

**æ–¹å¼äºŒï¼šæ¸…é™¤ç¼“å­˜**
- æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
- å³é”®ç‚¹å‡»åˆ·æ–°æŒ‰é’®
- é€‰æ‹©"æ¸…ç©ºç¼“å­˜å¹¶ç¡¬æ€§é‡æ–°åŠ è½½"

### æ­¥éª¤ 4ï¼šæµ‹è¯•åŠŸèƒ½

è®¿é—® https://ryentoretto.github.io/demo-third-pay/ å¹¶æµ‹è¯•ï¼š

1. âœ… å¯ä»¥çœ‹åˆ° 6 ä¸ª SKU å•†å“
2. âœ… ç‚¹å‡»"ç«‹å³è´­ä¹°"å¯ä»¥è·³è½¬åˆ°æ”¯ä»˜é¡µé¢
3. âœ… å¯ä»¥çœ‹åˆ°è®¢å•ä¿¡æ¯
4. âœ… å¯ä»¥æ‰“å¼€ç¬¬ä¸‰æ–¹æ”¯ä»˜é¡µé¢ï¼ˆæ–°æ ‡ç­¾é¡µï¼‰
5. âœ… å¯ä»¥æ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸ/å¤±è´¥
6. âœ… æ”¯ä»˜ç»“æœé¡µé¢è‡ªåŠ¨å…³é—­
7. âœ… ä¸»é¡µé¢æ˜¾ç¤ºæ”¯ä»˜ç»“æœ

---

## ğŸ§ª æœ¬åœ°æµ‹è¯•

åœ¨æœ¬åœ°æµ‹è¯•ç”Ÿäº§æ„å»ºï¼Œç¡®ä¿é…ç½®æ­£ç¡®ï¼š

```bash
# æ¸…ç†ä¹‹å‰çš„æ„å»º
rm -rf .output

# è®¾ç½®ç”Ÿäº§ç¯å¢ƒ
export NODE_ENV=production

# ç”Ÿæˆé™æ€ç«™ç‚¹
npm run generate

# é¢„è§ˆï¼ˆä½¿ç”¨ Python ç®€å•æœåŠ¡å™¨æ¨¡æ‹Ÿ GitHub Pagesï¼‰
cd .output/public
python3 -m http.server 8000

# è®¿é—® http://localhost:8000/demo-third-pay/
```

**æ³¨æ„**ï¼šæœ¬åœ°é¢„è§ˆæ—¶éœ€è¦è®¿é—® `http://localhost:8000/demo-third-pay/`ï¼ˆå¸¦å­è·¯å¾„ï¼‰ï¼Œè€Œä¸æ˜¯ `http://localhost:8000/`ã€‚

---

## ğŸ“Š ä¿®å¤å‰ vs ä¿®å¤å

| é¡¹ç›® | ä¿®å¤å‰ | ä¿®å¤å |
|------|--------|--------|
| **baseURL** | `/`ï¼ˆé»˜è®¤ï¼‰ | `/demo-third-pay/`ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰ |
| **è·¯ç”±è·³è½¬** | âŒ 404 é”™è¯¯ | âœ… æ­£å¸¸è·³è½¬ |
| **é™æ€ç”Ÿæˆ** | åªæœ‰é¦–é¡µ | æ‰€æœ‰é¡µé¢ |
| **æœ¬åœ°å¼€å‘** | âœ… æ­£å¸¸ | âœ… æ­£å¸¸ï¼ˆä¸å—å½±å“ï¼‰ |

---

## ğŸ” æŠ€æœ¯ç»†èŠ‚

### ä¸ºä»€ä¹ˆéœ€è¦ baseURLï¼Ÿ

GitHub Pages é¡¹ç›®éƒ¨ç½² URL æ ¼å¼ï¼š
```
https://[username].github.io/[repo-name]/
```

ä¾‹å¦‚ï¼š
```
https://RyenToretto.github.io/demo-third-pay/
```

é¡¹ç›®éƒ¨ç½²åœ¨ `/demo-third-pay/` å­è·¯å¾„ä¸‹ï¼Œæ‰€æœ‰èµ„æºå’Œè·¯ç”±éƒ½éœ€è¦åŠ ä¸Šè¿™ä¸ªå‰ç¼€ã€‚

### Nuxt å¦‚ä½•å¤„ç† baseURLï¼Ÿ

è®¾ç½® `baseURL` åï¼ŒNuxt ä¼šè‡ªåŠ¨ï¼š
- åœ¨æ‰€æœ‰å†…éƒ¨é“¾æ¥å‰æ·»åŠ  baseURL
- è°ƒæ•´èµ„æºè·¯å¾„ï¼ˆJSã€CSSã€å›¾ç‰‡ç­‰ï¼‰
- æ›´æ–°å®¢æˆ·ç«¯è·¯ç”±é…ç½®

### ä¸ºä»€ä¹ˆå¼€å‘ç¯å¢ƒä¸å—å½±å“ï¼Ÿ

ä½¿ç”¨ç¯å¢ƒå˜é‡åˆ¤æ–­ï¼š
```typescript
baseURL: process.env.NODE_ENV === 'production' ? '/demo-third-pay/' : '/'
```

- å¼€å‘ç¯å¢ƒï¼ˆ`npm run dev`ï¼‰ï¼š`NODE_ENV` ä¸æ˜¯ `production`ï¼Œä½¿ç”¨ `/`
- ç”Ÿäº§æ„å»ºï¼ˆ`npm run generate`ï¼‰ï¼š`NODE_ENV` æ˜¯ `production`ï¼Œä½¿ç”¨ `/demo-third-pay/`

---

## âš ï¸ å¸¸è§é—®é¢˜

### Q1: é‡æ–°éƒ¨ç½²åè¿˜æ˜¯ä¸èƒ½è·³è½¬ï¼Ÿ

**A**: æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼GitHub Pages å’Œæµè§ˆå™¨éƒ½ä¼šç¼“å­˜é™æ€æ–‡ä»¶ã€‚

```bash
# æ–¹æ³• 1ï¼šç¡¬åˆ·æ–°
Ctrl + Shift + R (Windows/Linux)
Cmd + Shift + R (Mac)

# æ–¹æ³• 2ï¼šå¼€å‘è€…å·¥å…·
F12 â†’ Network â†’ Disable cacheï¼ˆå‹¾é€‰ï¼‰â†’ åˆ·æ–°

# æ–¹æ³• 3ï¼šéšç§/æ— ç—•æ¨¡å¼
æ‰“å¼€æ— ç—•çª—å£æµ‹è¯•
```

### Q2: ç‚¹å‡»æŒ‰é’®åæ˜¾ç¤º 404ï¼Ÿ

**A**: 
1. ç¡®è®¤å·²é‡æ–°éƒ¨ç½²ï¼ˆæŸ¥çœ‹ GitHub Actionsï¼‰
2. ç¡®è®¤éƒ¨ç½²æˆåŠŸï¼ˆActions æ˜¾ç¤ºç»¿è‰² âœ“ï¼‰
3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
4. ç­‰å¾… 1-2 åˆ†é’Ÿï¼ˆGitHub Pages CDN ç¼“å­˜æ›´æ–°ï¼‰

### Q3: æœ¬åœ°å¼€å‘æ—¶è·³è½¬ä¹Ÿä¸æ­£å¸¸äº†ï¼Ÿ

**A**: ä¸åº”è¯¥å‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºé…ç½®ä½¿ç”¨äº†ç¯å¢ƒåˆ¤æ–­ã€‚æ£€æŸ¥ï¼š

```bash
# ç¡®è®¤å¼€å‘æ¨¡å¼
npm run dev

# è®¿é—® http://localhost:3241ï¼ˆä¸å¸¦ /demo-third-pay/ï¼‰

# å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œæ¸…ç†å¹¶é‡å¯
rm -rf .nuxt
npm run dev
```

### Q4: å¦‚ä½•éªŒè¯ baseURL é…ç½®ç”Ÿæ•ˆï¼Ÿ

**A**: æ£€æŸ¥ç”Ÿæˆçš„ HTML æ–‡ä»¶ï¼š

```bash
npm run generate
cat .output/public/index.html | grep -i "demo-third-pay"
```

åº”è¯¥å¯ä»¥çœ‹åˆ°èµ„æºè·¯å¾„éƒ½åŒ…å« `/demo-third-pay/` å‰ç¼€ã€‚

---

## ğŸ“ ç›¸å…³é“¾æ¥

- **Nuxt baseURL æ–‡æ¡£**: https://nuxt.com/docs/api/nuxt-config#baseurl
- **GitHub Pages æ–‡æ¡£**: https://docs.github.com/pages
- **é¡¹ç›®éƒ¨ç½²åœ°å€**: https://ryentoretto.github.io/demo-third-pay/

---

## âœ… ä¿®å¤å®Œæˆæ¸…å•

å®Œæˆä»¥ä¸‹æ­¥éª¤ç¡®ä¿ä¿®å¤ç”Ÿæ•ˆï¼š

- [x] ä¿®æ”¹ `nuxt.config.ts` æ·»åŠ  `baseURL`
- [x] æ›´æ–° `generate.routes` åŒ…å«æ‰€æœ‰é¡µé¢
- [ ] æäº¤ä»£ç å¹¶ push åˆ° GitHub
- [ ] ç­‰å¾… GitHub Actions è‡ªåŠ¨éƒ¨ç½²
- [ ] æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- [ ] æµ‹è¯•æ‰€æœ‰é¡µé¢è·³è½¬
- [ ] æµ‹è¯•å®Œæ•´æ”¯ä»˜æµç¨‹

---

**ä¿®å¤é…ç½®å·²å®Œæˆï¼Œç°åœ¨éœ€è¦é‡æ–°éƒ¨ç½²ï¼** ğŸš€

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¼€å§‹éƒ¨ç½²ï¼š

```bash
git add .
git commit -m "fix: add baseURL for GitHub Pages deployment"
git push origin main
```

éƒ¨ç½²å®Œæˆåï¼Œæ¸…é™¤æµè§ˆå™¨ç¼“å­˜å¹¶é‡æ–°æµ‹è¯•ï¼âœ¨

